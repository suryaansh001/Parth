"use client"

import type React from "react"
import { createContext, useContext, useState, useEffect } from "react"

// Define available languages with Apple flag emojis
export const languages = [
  { code: "en", name: "English", flag: "üá∫üá∏" },
  { code: "es", name: "Espa√±ol", flag: "üá™üá∏" },
  { code: "fr", name: "Fran√ßais", flag: "üá´üá∑" },
  { code: "de", name: "Deutsch", flag: "üá©üá™" },
  { code: "zh", name: "‰∏≠Êñá", flag: "üá®üá≥" },
  { code: "ja", name: "Êó•Êú¨Ë™û", flag: "üáØüáµ" },
]

// Comprehensive translations
const translations = {
  en: {
    // Navigation
    "nav.services": "Services",
    "nav.projects": "Projects",
    "nav.process": "Process",
    "nav.contact": "Contact",
    "nav.support": "Support",
    "nav.portfolio": "Portfolio",
    "nav.partnership": "Partnership",

    // CTA and Buttons
    "cta.consultation": "Free Consultation",
    "cta.explore": "Explore Services",
    "cta.learn_more": "Learn More",
    "cta.get_started": "Get Started",
    "cta.contact_us": "Contact Us",
    "cta.view_portfolio": "View Portfolio",

    // Hero Section
    "hero.title": "Innovative Solutions",
    "hero.subtitle": "Digital Technology & Mechanical Engineering",
    "hero.description":
      "Innovative solutions at the intersection of digital technology and mechanical engineering excellence.",
    "hero.typing_text": "Let's create tomorrow's technology",

    // Services Section
    "services.title": "Services We Offer",
    "services.subtitle": "Comprehensive solutions spanning digital innovation and mechanical excellence",
    "services.web.title": "Web Development",
    "services.web.description":
      "We create everything from simple to complex websites, with flexible plans and custom solutions tailored to your needs.",
    "services.mobile.title": "Mobile Apps",
    "services.mobile.description": "Cross-platform mobile applications for iOS and Android",
    "services.mechanical.title": "Mechanical Development",
    "services.mechanical.description": "From initial concept to manufacturing-ready designs with precision engineering",
    "services.patent.title": "Patent Services",
    "services.patent.description": "Intellectual property protection for your innovations",
    "services.digital.title": "Digital Systems Architecture",
    "services.digital.description":
      "We design and implement scalable, secure, and efficient digital infrastructure to power your business operations and innovation.",

    // Contact Section
    "contact.title": "Ready to innovate?",
    "contact.description":
      "Let's discuss how we can bring your vision to life with cutting-edge technology and engineering excellence.",

    // Footer
    "footer.powered_by": "Powered by Weltivation",
    "footer.rights": "All rights reserved",

    // Process Steps
    "process.concept": "Concept Design",
    "process.modeling": "3D Modeling",
    "process.prototyping": "Prototyping",
    "process.testing": "Testing & Validation",
    "process.manufacturing": "Manufacturing Prep",
    "process.production": "Production Ready",
  },
  es: {
    // Navigation
    "nav.services": "Servicios",
    "nav.projects": "Proyectos",
    "nav.process": "Proceso",
    "nav.contact": "Contacto",
    "nav.support": "Soporte",
    "nav.portfolio": "Portafolio",
    "nav.partnership": "Asociaci√≥n",

    // CTA and Buttons
    "cta.consultation": "Consulta Gratuita",
    "cta.explore": "Explorar Servicios",
    "cta.learn_more": "Saber M√°s",
    "cta.get_started": "Comenzar",
    "cta.contact_us": "Cont√°ctanos",
    "cta.view_portfolio": "Ver Portafolio",

    // Hero Section
    "hero.title": "Soluciones Innovadoras",
    "hero.subtitle": "Tecnolog√≠a Digital e Ingenier√≠a Mec√°nica",
    "hero.description":
      "Soluciones innovadoras en la intersecci√≥n de la tecnolog√≠a digital y la excelencia en ingenier√≠a mec√°nica.",
    "hero.typing_text": "Creemos la tecnolog√≠a del ma√±ana",

    // Services Section
    "services.title": "Servicios Que Ofrecemos",
    "services.subtitle": "Soluciones integrales que abarcan la innovaci√≥n digital y la excelencia mec√°nica",
    "services.web.title": "Desarrollo Web",
    "services.web.description":
      "Creamos desde sitios web simples hasta complejos, con planes flexibles y soluciones personalizadas adaptadas a sus necesidades.",
    "services.mobile.title": "Aplicaciones M√≥viles",
    "services.mobile.description": "Aplicaciones m√≥viles multiplataforma para iOS y Android",
    "services.mechanical.title": "Desarrollo Mec√°nico",
    "services.mechanical.description":
      "Desde el concepto inicial hasta dise√±os listos para fabricaci√≥n con ingenier√≠a de precisi√≥n",
    "services.patent.title": "Servicios de Patentes",
    "services.patent.description": "Protecci√≥n de propiedad intelectual para sus innovaciones",
    "services.digital.title": "Arquitectura de Sistemas Digitales",
    "services.digital.description":
      "Dise√±amos e implementamos infraestructura digital escalable, segura y eficiente para impulsar sus operaciones comerciales e innovaci√≥n.",

    // Contact Section
    "contact.title": "¬øListo para innovar?",
    "contact.description":
      "Hablemos sobre c√≥mo podemos dar vida a su visi√≥n con tecnolog√≠a de vanguardia y excelencia en ingenier√≠a.",

    // Footer
    "footer.powered_by": "Desarrollado por Weltivation",
    "footer.rights": "Todos los derechos reservados",

    // Process Steps
    "process.concept": "Dise√±o Conceptual",
    "process.modeling": "Modelado 3D",
    "process.prototyping": "Prototipado",
    "process.testing": "Pruebas y Validaci√≥n",
    "process.manufacturing": "Preparaci√≥n de Fabricaci√≥n",
    "process.production": "Listo para Producci√≥n",
  },
  fr: {
    // Navigation
    "nav.services": "Services",
    "nav.projects": "Projets",
    "nav.process": "Processus",
    "nav.contact": "Contact",
    "nav.support": "Support",
    "nav.portfolio": "Portfolio",
    "nav.partnership": "Partenariat",

    // CTA and Buttons
    "cta.consultation": "Consultation Gratuite",
    "cta.explore": "Explorer les Services",
    "cta.learn_more": "En Savoir Plus",
    "cta.get_started": "Commencer",
    "cta.contact_us": "Nous Contacter",
    "cta.view_portfolio": "Voir le Portfolio",

    // Hero Section
    "hero.title": "Solutions Innovantes",
    "hero.subtitle": "Technologie Num√©rique et Ing√©nierie M√©canique",
    "hero.description":
      "Solutions innovantes √† l'intersection de la technologie num√©rique et de l'excellence en ing√©nierie m√©canique.",
    "hero.typing_text": "Cr√©ons la technologie de demain",

    // Services Section
    "services.title": "Services Que Nous Offrons",
    "services.subtitle": "Solutions compl√®tes couvrant l'innovation num√©rique et l'excellence m√©canique",
    "services.web.title": "D√©veloppement Web",
    "services.web.description":
      "Nous cr√©ons tout, des sites web simples aux complexes, avec des plans flexibles et des solutions personnalis√©es adapt√©es √† vos besoins.",
    "services.mobile.title": "Applications Mobiles",
    "services.mobile.description": "Applications mobiles multiplateformes pour iOS et Android",
    "services.mechanical.title": "D√©veloppement M√©canique",
    "services.mechanical.description":
      "Du concept initial aux conceptions pr√™tes pour la fabrication avec une ing√©nierie de pr√©cision",
    "services.patent.title": "Services de Brevets",
    "services.patent.description": "Protection de la propri√©t√© intellectuelle pour vos innovations",
    "services.digital.title": "Architecture des Syst√®mes Num√©riques",
    "services.digital.description":
      "Nous concevons et mettons en ≈ìuvre une infrastructure num√©rique √©volutive, s√©curis√©e et efficace pour alimenter vos op√©rations commerciales et votre innovation.",

    // Contact Section
    "contact.title": "Pr√™t √† innover?",
    "contact.description":
      "Discutons de la fa√ßon dont nous pouvons donner vie √† votre vision avec une technologie de pointe et une excellence en ing√©nierie.",

    // Footer
    "footer.powered_by": "Propuls√© par Weltivation",
    "footer.rights": "Tous droits r√©serv√©s",

    // Process Steps
    "process.concept": "Conception Conceptuelle",
    "process.modeling": "Mod√©lisation 3D",
    "process.prototyping": "Prototypage",
    "process.testing": "Tests et Validation",
    "process.manufacturing": "Pr√©paration de Fabrication",
    "process.production": "Pr√™t pour la Production",
  },
  de: {
    // Navigation
    "nav.services": "Dienstleistungen",
    "nav.projects": "Projekte",
    "nav.process": "Prozess",
    "nav.contact": "Kontakt",
    "nav.support": "Support",
    "nav.portfolio": "Portfolio",
    "nav.partnership": "Partnerschaft",

    // CTA and Buttons
    "cta.consultation": "Kostenlose Beratung",
    "cta.explore": "Services Erkunden",
    "cta.learn_more": "Mehr Erfahren",
    "cta.get_started": "Loslegen",
    "cta.contact_us": "Kontaktieren Sie Uns",
    "cta.view_portfolio": "Portfolio Ansehen",

    // Hero Section
    "hero.title": "Innovative L√∂sungen",
    "hero.subtitle": "Digitale Technologie & Maschinenbau",
    "hero.description":
      "Innovative L√∂sungen an der Schnittstelle von digitaler Technologie und maschinenbaulicher Exzellenz.",
    "hero.typing_text": "Lassen Sie uns die Technologie von morgen schaffen",

    // Services Section
    "services.title": "Unsere Dienstleistungen",
    "services.subtitle": "Umfassende L√∂sungen, die digitale Innovation und mechanische Exzellenz umfassen",
    "services.web.title": "Webentwicklung",
    "services.web.description":
      "Wir erstellen alles von einfachen bis hin zu komplexen Websites mit flexiblen Pl√§nen und ma√ügeschneiderten L√∂sungen f√ºr Ihre Bed√ºrfnisse.",
    "services.mobile.title": "Mobile Apps",
    "services.mobile.description": "Plattform√ºbergreifende mobile Anwendungen f√ºr iOS und Android",
    "services.mechanical.title": "Mechanische Entwicklung",
    "services.mechanical.description": "Vom ersten Konzept bis hin zu fertigungsreifen Designs mit Pr√§zisionstechnik",
    "services.patent.title": "Patent-Dienstleistungen",
    "services.patent.description": "Schutz des geistigen Eigentums f√ºr Ihre Innovationen",
    "services.digital.title": "Digitale Systemarchitektur",
    "services.digital.description":
      "Wir entwerfen und implementieren skalierbare, sichere und effiziente digitale Infrastruktur, um Ihre Gesch√§ftsabl√§ufe und Innovation zu unterst√ºtzen.",

    // Contact Section
    "contact.title": "Bereit zu innovieren?",
    "contact.description":
      "Lassen Sie uns besprechen, wie wir Ihre Vision mit modernster Technologie und technischer Exzellenz zum Leben erwecken k√∂nnen.",

    // Footer
    "footer.powered_by": "Betrieben von Weltivation",
    "footer.rights": "Alle Rechte vorbehalten",

    // Process Steps
    "process.concept": "Konzeptdesign",
    "process.modeling": "3D-Modellierung",
    "process.prototyping": "Prototyping",
    "process.testing": "Testen & Validierung",
    "process.manufacturing": "Fertigungsvorbereitung",
    "process.production": "Produktionsbereit",
  },
  zh: {
    // Navigation
    "nav.services": "ÊúçÂä°",
    "nav.projects": "È°πÁõÆ",
    "nav.process": "ÊµÅÁ®ã",
    "nav.contact": "ËÅîÁ≥ªÊàë‰ª¨",
    "nav.support": "ÊîØÊåÅ",
    "nav.portfolio": "‰ΩúÂìÅÈõÜ",
    "nav.partnership": "Âêà‰Ωú‰ºô‰º¥",

    // CTA and Buttons
    "cta.consultation": "ÂÖçË¥πÂí®ËØ¢",
    "cta.explore": "Êé¢Á¥¢ÊúçÂä°",
    "cta.learn_more": "‰∫ÜËß£Êõ¥Â§ö",
    "cta.get_started": "ÂºÄÂßã",
    "cta.contact_us": "ËÅîÁ≥ªÊàë‰ª¨",
    "cta.view_portfolio": "Êü•Áúã‰ΩúÂìÅÈõÜ",

    // Hero Section
    "hero.title": "ÂàõÊñ∞Ëß£ÂÜ≥ÊñπÊ°à",
    "hero.subtitle": "Êï∞Â≠óÊäÄÊúØ‰∏éÊú∫Ê¢∞Â∑•Á®ã",
    "hero.description": "Âú®Êï∞Â≠óÊäÄÊúØÂíåÊú∫Ê¢∞Â∑•Á®ãÂçìË∂äÁöÑ‰∫§Ê±áÁÇπÊèê‰æõÂàõÊñ∞Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ",
    "hero.typing_text": "ËÆ©Êàë‰ª¨ÂàõÈÄ†ÊòéÂ§©ÁöÑÊäÄÊúØ",

    // Services Section
    "services.title": "Êàë‰ª¨Êèê‰æõÁöÑÊúçÂä°",
    "services.subtitle": "Ê∂µÁõñÊï∞Â≠óÂàõÊñ∞ÂíåÊú∫Ê¢∞ÂçìË∂äÁöÑÁªºÂêàËß£ÂÜ≥ÊñπÊ°à",
    "services.web.title": "ÁΩëÁ´ôÂºÄÂèë",
    "services.web.description": "Êàë‰ª¨ÂàõÂª∫‰ªéÁÆÄÂçïÂà∞Â§çÊùÇÁöÑÁΩëÁ´ôÔºåÊèê‰æõÁÅµÊ¥ªÁöÑËÆ°ÂàíÂíåÈáèË∫´ÂÆöÂà∂ÁöÑËß£ÂÜ≥ÊñπÊ°à‰ª•Êª°Ë∂≥ÊÇ®ÁöÑÈúÄÊ±Ç„ÄÇ",
    "services.mobile.title": "ÁßªÂä®Â∫îÁî®",
    "services.mobile.description": "iOSÂíåAndroidË∑®Âπ≥Âè∞ÁßªÂä®Â∫îÁî®Á®ãÂ∫è",
    "services.mechanical.title": "Êú∫Ê¢∞ÂºÄÂèë",
    "services.mechanical.description": "‰ªéÂàùÂßãÊ¶ÇÂøµÂà∞Á≤æÂØÜÂ∑•Á®ãÁöÑÂà∂ÈÄ†Â∞±Áª™ËÆæËÆ°",
    "services.patent.title": "‰∏ìÂà©ÊúçÂä°",
    "services.patent.description": "‰∏∫ÊÇ®ÁöÑÂàõÊñ∞Êèê‰æõÁü•ËØÜ‰∫ßÊùÉ‰øùÊä§",
    "services.digital.title": "Êï∞Â≠óÁ≥ªÁªüÊû∂ÊûÑ",
    "services.digital.description": "Êàë‰ª¨ËÆæËÆ°ÂíåÂÆûÊñΩÂèØÊâ©Â±ï„ÄÅÂÆâÂÖ®„ÄÅÈ´òÊïàÁöÑÊï∞Â≠óÂü∫Á°ÄËÆæÊñΩÔºå‰∏∫ÊÇ®ÁöÑ‰∏öÂä°ËøêËê•ÂíåÂàõÊñ∞Êèê‰æõÂä®Âäõ„ÄÇ",

    // Contact Section
    "contact.title": "ÂáÜÂ§áÂàõÊñ∞‰∫ÜÂêóÔºü",
    "contact.description": "ËÆ©Êàë‰ª¨ËÆ®ËÆ∫Â¶Ç‰ΩïÁî®Â∞ñÁ´ØÊäÄÊúØÂíåÂ∑•Á®ãÂçìË∂äÂ∞ÜÊÇ®ÁöÑÊÑøÊôØÂèò‰∏∫Áé∞ÂÆû„ÄÇ",

    // Footer
    "footer.powered_by": "Áî±WeltivationÊèê‰æõÊîØÊåÅ",
    "footer.rights": "ÁâàÊùÉÊâÄÊúâ",

    // Process Steps
    "process.concept": "Ê¶ÇÂøµËÆæËÆ°",
    "process.modeling": "3DÂª∫Ê®°",
    "process.prototyping": "ÂéüÂûãÂà∂‰Ωú",
    "process.testing": "ÊµãËØï‰∏éÈ™åËØÅ",
    "process.manufacturing": "Âà∂ÈÄ†ÂáÜÂ§á",
    "process.production": "Áîü‰∫ßÂ∞±Áª™",
  },
  ja: {
    // Navigation
    "nav.services": "„Çµ„Éº„Éì„Çπ",
    "nav.projects": "„Éó„É≠„Ç∏„Çß„ÇØ„Éà",
    "nav.process": "„Éó„É≠„Çª„Çπ",
    "nav.contact": "„ÅäÂïè„ÅÑÂêà„Çè„Åõ",
    "nav.support": "„Çµ„Éù„Éº„Éà",
    "nav.portfolio": "„Éù„Éº„Éà„Éï„Ç©„É™„Ç™",
    "nav.partnership": "„Éë„Éº„Éà„Éä„Éº„Ç∑„ÉÉ„Éó",

    // CTA and Buttons
    "cta.consultation": "ÁÑ°ÊñôÁõ∏Ë´á",
    "cta.explore": "„Çµ„Éº„Éì„Çπ„ÇíÊé¢Á¥¢",
    "cta.learn_more": "Ë©≥Á¥∞„ÇíË¶ã„Çã",
    "cta.get_started": "Âßã„ÇÅ„Çã",
    "cta.contact_us": "„ÅäÂïè„ÅÑÂêà„Çè„Åõ",
    "cta.view_portfolio": "„Éù„Éº„Éà„Éï„Ç©„É™„Ç™„ÇíË¶ã„Çã",

    // Hero Section
    "hero.title": "Èù©Êñ∞ÁöÑ„Å™„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥",
    "hero.subtitle": "„Éá„Ç∏„Çø„É´ÊäÄË°ì„Å®Ê©üÊ¢∞Â∑•Â≠¶",
    "hero.description": "„Éá„Ç∏„Çø„É´ÊäÄË°ì„Å®Ê©üÊ¢∞Â∑•Â≠¶„ÅÆÂçìË∂äÊÄß„ÅÆ‰∫§Â∑ÆÁÇπ„Åß„ÅÆÈù©Êñ∞ÁöÑ„Å™„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥„ÄÇ",
    "hero.typing_text": "ÊòéÊó•„ÅÆ„ÉÜ„ÇØ„Éé„É≠„Ç∏„Éº„ÇíÂâµÈÄ†„Åó„Åæ„Åó„Çá„ÅÜ",

    // Services Section
    "services.title": "ÁßÅ„Åü„Å°„ÅÆ„Çµ„Éº„Éì„Çπ",
    "services.subtitle": "„Éá„Ç∏„Çø„É´Èù©Êñ∞„Å®Ê©üÊ¢∞ÁöÑÂçìË∂äÊÄß„ÇíÂåÖÂê´„Åô„ÇãÂåÖÊã¨ÁöÑ„Å™„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥",
    "services.web.title": "„Ç¶„Çß„ÉñÈñãÁô∫",
    "services.web.description":
      "„Ç∑„É≥„Éó„É´„Åã„ÇâË§áÈõë„Å™„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„Åæ„Åß„ÄÅ„ÅäÂÆ¢Êßò„ÅÆ„Éã„Éº„Ç∫„Å´Âêà„Çè„Åõ„ÅüÊüîËªü„Å™„Éó„É©„É≥„Å®„Ç´„Çπ„Çø„É†„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ",
    "services.mobile.title": "„É¢„Éê„Ç§„É´„Ç¢„Éó„É™",
    "services.mobile.description": "iOS„Å®AndroidÂêë„Åë„ÅÆ„ÇØ„É≠„Çπ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„É¢„Éê„Ç§„É´„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥",
    "services.mechanical.title": "Ê©üÊ¢∞ÈñãÁô∫",
    "services.mechanical.description": "ÂàùÊúü„Ç≥„É≥„Çª„Éó„Éà„Åã„ÇâÁ≤æÂØÜÂ∑•Â≠¶„Å´„Çà„ÇãË£ΩÈÄ†Ê∫ñÂÇôÂÆå‰∫ÜË®≠Ë®à„Åæ„Åß",
    "services.patent.title": "ÁâπË®±„Çµ„Éº„Éì„Çπ",
    "services.patent.description": "„ÅÇ„Å™„Åü„ÅÆÈù©Êñ∞„ÅÆ„Åü„ÇÅ„ÅÆÁü•ÁöÑË≤°Áî£‰øùË≠∑",
    "services.digital.title": "„Éá„Ç∏„Çø„É´„Ç∑„Çπ„ÉÜ„É†„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£",
    "services.digital.description":
      "„Éì„Ç∏„Éç„ÇπÈÅãÂñ∂„Å®„Ç§„Éé„Éô„Éº„Ç∑„Éß„É≥„ÇíÊîØÊè¥„Åô„Çã„Çπ„Ç±„Éº„É©„Éñ„É´„ÅßÂÆâÂÖ®„Åã„Å§ÂäπÁéáÁöÑ„Å™„Éá„Ç∏„Çø„É´„Ç§„É≥„Éï„É©„Çπ„Éà„É©„ÇØ„ÉÅ„É£„ÇíË®≠Ë®à„ÉªÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ",

    // Contact Section
    "contact.title": "Èù©Êñ∞„ÅÆÊ∫ñÂÇô„ÅØ„Åß„Åç„Åæ„Åó„Åü„ÅãÔºü",
    "contact.description": "ÊúÄÂÖàÁ´ØÊäÄË°ì„Å®Â∑•Â≠¶ÁöÑÂçìË∂äÊÄß„Åß„ÅäÂÆ¢Êßò„ÅÆ„Éì„Ç∏„Éß„É≥„ÇíÂÆüÁèæ„Åô„ÇãÊñπÊ≥ï„Å´„Å§„ÅÑ„Å¶Ë©±„ÅóÂêà„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ",

    // Footer
    "footer.powered_by": "Weltivation„Å´„Çà„Å£„Å¶Êèê‰æõ",
    "footer.rights": "ÂÖ®Ëëó‰ΩúÊ®©ÊâÄÊúâ",

    // Process Steps
    "process.concept": "„Ç≥„É≥„Çª„Éó„Éà„Éá„Ç∂„Ç§„É≥",
    "process.modeling": "3D„É¢„Éá„É™„É≥„Ç∞",
    "process.prototyping": "„Éó„É≠„Éà„Çø„Ç§„Éî„É≥„Ç∞",
    "process.testing": "„ÉÜ„Çπ„Éà„Å®Ê§úË®º",
    "process.manufacturing": "Ë£ΩÈÄ†Ê∫ñÂÇô",
    "process.production": "ÁîüÁî£Ê∫ñÂÇôÂÆå‰∫Ü",
  },
}

type LanguageContextType = {
  currentLanguage: (typeof languages)[0]
  setLanguage: (code: string) => void
  t: (key: string) => string
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [currentLanguage, setCurrentLanguage] = useState(languages[0])

  // Load saved language preference from localStorage on component mount
  useEffect(() => {
    const savedLanguage = localStorage.getItem("language")
    if (savedLanguage) {
      const lang = languages.find((l) => l.code === savedLanguage)
      if (lang) setCurrentLanguage(lang)
    }
  }, [])

  const setLanguage = (code: string) => {
    const newLang = languages.find((l) => l.code === code)
    if (newLang) {
      setCurrentLanguage(newLang)
      localStorage.setItem("language", code)
      document.documentElement.lang = code
    }
  }

  // Translation function
  const t = (key: string): string => {
    const langTranslations = translations[currentLanguage.code as keyof typeof translations] || translations.en
    return langTranslations[key as keyof typeof langTranslations] || key
  }

  return <LanguageContext.Provider value={{ currentLanguage, setLanguage, t }}>{children}</LanguageContext.Provider>
}

export const useLanguage = () => {
  const context = useContext(LanguageContext)
  if (context === undefined) {
    throw new Error("useLanguage must be used within a LanguageProvider")
  }
  return context
}
